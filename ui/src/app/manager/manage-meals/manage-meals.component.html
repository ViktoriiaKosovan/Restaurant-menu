<div class="meals-container">

 <button (click)="showEditForm(undefined)">Add meal</button>

 <div class="popup-holder" [ngClass]="{show: showFormEdit, hide: !showFormEdit}" >
      <div class="popup-content">
        <div class="close-popap" (click)="hideEditForm()">X</div>
<form class="meal-form"  [formGroup]="form" (ngSubmit)='submit()' >
  <div class="preview" *ngIf="imgFile">
    <img [src]="imgFile" style="width:150px; height:150px">
  </div>
  <div class="category-form_title"><input type="text"   placeholder="Enter meal mane" formControlName="name"></div>
  <div *ngIf="form.controls.name.touched && form.controls.name.invalid"  class="validation">
<small *ngIf="form.controls.name.errors?.required">Name field is required</small>
<small *ngIf="form.controls.name.errors?.maxlength">Name field length should be less than 30 symbols</small>
  </div>
   <div class="category-form_title"><select type="text"  placeholder="Enter meal mane" formControlName="categoryId">
       <option *ngFor="let category of categories"  [ngValue]="category.id">{{category.title}}</option>
   </select></div>

   <div >
    <label for="file">Image</label>
    <input type="file"  id="file" formControlName="file" (change)="onImageChange($event)">
   
  </div>

  <div class="category-form_title"><textarea type="text"   placeholder="Enter meal description" formControlName="description"></textarea></div>
 <div class="category-form_title"><input type="text"   placeholder="Enter meal weight" formControlName="weight"></div>
         <div class="category-form_title"><input type="text"   placeholder="Enter meal price" formControlName="price"></div>
  <div><input type="checkbox" id="availability" formControlName="availability" > 
   <label for="availability"> Availability</label></div>
 <div> <button type="submit" (click)="hideEditForm()" [disabled]="form.invalid && form.touched" class="sbm-btn" >Save</button>
    <button type="button" (click)="hideEditForm()">Cancel</button></div>
    </form>
     </div>
</div>
  


<!-- <input class="search-input" type="text" [(ngModel)]="search" placeholder="Search...">  -->
<table>
  <thead>
    <tr>
      <th scope="col">Title</th>
      <th scope="col">Description</th>
      <th scope="col">Weight</th>
      <th scope="col">Price</th>
      <th scope="col">Availability</th>
      <th scope="col">Delete</th>
      <th scope="col">Edit</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let meal of meals">
        <td data-label="Title">{{meal.name}}</td>
      <td data-label="Description">{{meal.description}}</td>
      <td data-label="Weight">{{meal.weight}}</td>
      <td data-label="Price">{{meal.price}}</td>
      <td data-label="Availability">{{meal.availability}}</td>
      <td data-label="Delete"><button (click)="deleteMeal(meal.id)">delete</button></td>
      <td data-label="Edit"><button (click)="showEditForm(meal.id)">edit</button></td>
    </tr>
  </tbody>
</table>

    </div>
